(function(t){function e(e){for(var n,s,h=e[0],c=e[1],a=e[2],u=0,f=[];u<h.length;u++)s=h[u],r[s]&&f.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,a||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,h=1;h<i.length;h++){var c=i[h];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/breakout/";var h=window["webpackJsonp"]=window["webpackJsonp"]||[],c=h.push.bind(h);h.push=e,h=h.slice();for(var a=0;a<h.length;a++)e(h[a]);var l=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},cd49:function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Game")],1)},o=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"root"}),i("p",[i("button",{on:{click:t.pause}},[t._v("Pause / Resume")])])])},h=[],c=(i("ac6a"),i("d225")),a=i("b0b4"),l=i("7618");function u(t,e){if(t>0)return t;throw new TypeError(e+" must be a number greater than zero: "+t+" ("+Object(l["a"])(t)+")")}function f(t,e){if(t>=0)return t;throw new TypeError(e+" must be a number greater than or equal to zero: "+t+" ("+Object(l["a"])(t)+")")}var d,y=function(){function t(e,i){Object(c["a"])(this,t),this._x=0,this._y=0,this.x=e,this.y=i}return Object(a["a"])(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"x",get:function(){return this._x},set:function(t){this._x=f(t,"x")}},{key:"y",get:function(){return this._y},set:function(t){this._y=f(t,"y")}}]),t}(),p=function(){function t(e,i,n){Object(c["a"])(this,t),this._length=0,this._start=e.clone(),this.length=i,this._orientation=n}return Object(a["a"])(t,[{key:"clone",value:function(){return new t(this.start,this.length,this.orientation)}},{key:"start",get:function(){return this._start},set:function(t){this._start=t.clone()}},{key:"length",get:function(){return this._length},set:function(t){this._length=u(t,"length")}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t}}]),t}();(function(t){t["Horizontal"]="Horizontal",t["Vertical"]="Vertical"})(d||(d={}));var g=d.Horizontal,v=d.Vertical,_=function(){function t(e,i,n){Object(c["a"])(this,t),this._width=0,this._height=0,this._topLeft=e.clone(),this._width=u(i,"width"),this._height=u(n,"height"),this._corners=new b(this,this._topLeft),this._edges=new m(this)}return Object(a["a"])(t,[{key:"moveTo",value:function(t,e){this._topLeft.x=t,this._topLeft.y=e,this._corners.update(),this._edges.update()}},{key:"resize",value:function(t,e){this._width=u(t,"width"),this._height=u(e,"height"),this._corners.update(),this._edges.update()}},{key:"clone",value:function(){return new t(this._topLeft,this._width,this._height)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"corners",get:function(){return this._corners}},{key:"edges",get:function(){return this._edges}}]),t}(),b=function(){function t(e,i){Object(c["a"])(this,t),this._rectangle=e,this._topLeft=i,this._topRight=new y(i.x+e.width,i.y),this._bottomLeft=new y(i.x,i.y+e.height),this._bottomRight=new y(i.x+e.width,i.y+e.height)}return Object(a["a"])(t,[{key:"update",value:function(){this._topRight.x=this._topLeft.x+this._rectangle.width,this._topRight.y=this._topLeft.y,this._bottomLeft.x=this._topLeft.x,this._bottomLeft.y=this._topLeft.y+this._rectangle.height,this._bottomRight.x=this._topLeft.x+this._rectangle.width,this._bottomRight.y=this._topLeft.y+this._rectangle.height}},{key:"topLeft",get:function(){return this._topLeft}},{key:"topRight",get:function(){return this._topRight}},{key:"bottomLeft",get:function(){return this._bottomLeft}},{key:"bottomRight",get:function(){return this._bottomRight}}]),t}(),m=function(){function t(e){Object(c["a"])(this,t),this._rectangle=e;var i=e.corners,n=i.topLeft,r=i.topRight,o=i.bottomLeft,s=e.width,h=e.height;this._top=new p(n,s,g),this._bottom=new p(o,s,g),this._left=new p(n,h,v),this._right=new p(r,h,v)}return Object(a["a"])(t,[{key:"update",value:function(){var t=this._rectangle.corners,e=t.topLeft,i=t.topRight,n=t.bottomLeft,r=this._rectangle,o=r.width,s=r.height;this._top.start.x=e.x,this._top.start.y=e.y,this._top.length=o,this._bottom.start.x=n.x,this._bottom.start.y=n.y,this._bottom.length=o,this._left.start.x=e.x,this._left.start.y=e.y,this._left.length=s,this._right.start.x=i.x,this._right.start.y=i.y,this._right.length=s}},{key:"top",get:function(){return this._top}},{key:"bottom",get:function(){return this._bottom}},{key:"left",get:function(){return this._left}},{key:"right",get:function(){return this._right}}]),t}(),x=40,k=20,w=function(){function t(e,i){Object(c["a"])(this,t);var n=new y(i*x,e*k);this.rectangle=new _(n,x,k),this.destroyed=!1}return Object(a["a"])(t,[{key:"hitByBall",value:function(){this.destroyed=!0}}]),t}(),L=18,O=14,j=O*x,F=(L+3)*k;function T(){for(var t=[],e=0;e<L;e++){t.push([]);for(var i=0;i<O;i++)t[e].push(null)}return t}i("6c7b"),i("ac4d"),i("8a81");var R=function(){function t(e){Object(c["a"])(this,t),this.root=e,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",j+""),this.canvas.setAttribute("height",F+""),this.context=this.initRenderingContext(),this.root.appendChild(this.canvas)}return Object(a["a"])(t,[{key:"initRenderingContext",value:function(){var t=this.canvas.getContext("2d");if(t)return t;throw new TypeError("Could not initialize rendering context.")}},{key:"render",value:function(t,e){this.renderBackground(),this.renderBricks(t),this.renderBalls(t),this.renderFps(e)}},{key:"renderBackground",value:function(){this.context.fillStyle="#E0F2F1",this.context.fillRect(0,0,j,F)}},{key:"renderBricks",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=t.bricks[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value,h=!0,c=!1,a=void 0;try{for(var l,u=s[Symbol.iterator]();!(h=(l=u.next()).done);h=!0){var f=l.value;if(f){var d=f.rectangle,y=this.context.createLinearGradient(d.corners.topLeft.x,d.corners.topLeft.y,d.corners.topLeft.x+d.width,d.corners.topLeft.y+d.height);y.addColorStop(0,"#004D40"),y.addColorStop(1,"#4DB6AC"),this.context.fillStyle=y,this.context.fillRect(d.corners.topLeft.x,d.corners.topLeft.y,d.width,d.height)}}}catch(p){c=!0,a=p}finally{try{h||null==u.return||u.return()}finally{if(c)throw a}}}}catch(p){i=!0,n=p}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"renderBalls",value:function(t){var e=this;t.balls.forEach(function(t){var i=t.circle;e.context.fillStyle="#000000",e.context.beginPath(),e.context.arc(i.center.x,i.center.y,i.radius,0,2*Math.PI),e.context.fill()})}},{key:"renderFps",value:function(t){t&&(this.context.strokeStyle="#000000",this.context.textAlign="right",this.context.fillText(Math.round(t)+" FPS",j-15,25))}}]),t}(),S=1e3/60,B=function(){function t(e,i){Object(c["a"])(this,t),this.state=e,this.graphics=new R(i),this.running=!1,this.delta=0}return Object(a["a"])(t,[{key:"start",value:function(){this.running=!0,requestAnimationFrame(this.loop.bind(this))}},{key:"pause",value:function(){this.running&&(this.running=!1,this.framesThisSecond=void 0,this.lastFpsUpdate=void 0,this.lastTimestamp&&(this.delta+=performance.now()-this.lastTimestamp,this.lastTimestamp=void 0))}},{key:"loop",value:function(t){this.running&&(this.calculateFps(t),this.physics(t),this.graphics.render(this.state,this.fps),requestAnimationFrame(this.loop.bind(this)))}},{key:"calculateFps",value:function(t){this.lastFpsUpdate||(this.lastFpsUpdate=t),t>this.lastFpsUpdate+1e3&&(this.fps=this.framesThisSecond,this.lastFpsUpdate=t,this.framesThisSecond=0),this.framesThisSecond||(this.framesThisSecond=0),this.framesThisSecond++}},{key:"physics",value:function(t){this.lastTimestamp||(this.lastTimestamp=t),this.delta+=t-this.lastTimestamp,this.lastTimestamp=t;while(this.delta>=S)this.physicsStep(),this.delta-=S}},{key:"physicsStep",value:function(){var t=this.state,e=t.balls,i=t.bricks;e.forEach(function(t){t.move();for(var e=Math.round(t.circle.center.y/k),n=Math.max(0,e-1),r=Math.min(17,e+1),o=n;o<=r;o++)for(var s=i[o],h=0;h<s.length;h++){var c=s[h];c&&(t.checkBrickCollision(c),c.destroyed&&(s[h]=null))}t.checkBoundsCollision(j,F)})}}]),t}(),E=function t(){Object(c["a"])(this,t),this.bricks=T(),this.balls=[]},C=(i("6762"),i("2fdb"),function(){function t(e,i){Object(c["a"])(this,t),this._radius=0,this._center=e.clone(),this.radius=i}return Object(a["a"])(t,[{key:"clone",value:function(){return new t(this.center,this.radius)}},{key:"center",get:function(){return this._center},set:function(t){this._center=t.clone()}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=u(t,"radius")}}]),t}()),M=d.Horizontal,P=d.Vertical,A=function(t,e){var i=[t.center.x-e.start.x,t.center.y-e.start.y],n=[e.orientation===M?e.length:0,e.orientation===P?e.length:0],r=z(n,n),o=z(i,n),s=H(o/r,0,1),h=[n[0]*s+e.start.x-t.center.x,n[1]*s+e.start.y-t.center.y],c=z(h,h);return c<=t.radius*t.radius};function z(t,e){return t[0]*e[0]+t[1]*e[1]}function H(t,e,i){return Math.max(e,Math.min(i,t))}var D,I=function(t,e){var i=e.corners.topLeft.x,n=i+e.width,r=e.corners.topLeft.y,o=r+e.height,s=t.x,h=t.y;return s>=i&&s<=n&&h>=r&&h<=o};(function(t){t["Top"]="Top",t["Bottom"]="Bottom",t["Left"]="Left",t["Right"]="Right",t["Enclosed"]="Enclosed"})(D||(D={}));var U=function(t,e){var i=null;return A(t,e.edges.top)&&(i=G(D.Top,i)),A(t,e.edges.right)&&(i=G(D.Right,i)),A(t,e.edges.bottom)&&(i=G(D.Bottom,i)),A(t,e.edges.left)&&(i=G(D.Left,i)),!i&&I(t.center,e)&&(i=G(D.Enclosed,i)),i};function G(t,e){return e?(e.push(t),e):[t]}var V=5,$=function(){function t(e){Object(c["a"])(this,t),this.circle=new C(e,V),this.velocity=[0,0],this.debug=[[this.circle.center.x,this.circle.center.y]]}return Object(a["a"])(t,[{key:"move",value:function(){this.circle.center.x+=this.velocity[0],this.circle.center.y+=this.velocity[1]}},{key:"checkBoundsCollision",value:function(t,e){var i=this.circle,n=i.center,r=i.radius;n.y-r<=0&&this.collisionFromBelow(0),n.x+r>=t&&this.collisionFromLeft(t),n.y+r>=e&&this.collisionFromAbove(e),n.x-r<=0&&this.collisionFromRight(0)}},{key:"checkBrickCollision",value:function(t){var e=U(this.circle,t.rectangle);if(e){t.hitByBall();var i=t.rectangle.edges,n=i.top,r=i.right,o=i.bottom,s=i.left;e.includes(D.Top)&&this.collisionFromAbove(n.start.y),e.includes(D.Right)&&this.collisionFromRight(r.start.x),e.includes(D.Bottom)&&this.collisionFromBelow(o.start.y),e.includes(D.Left)&&this.collisionFromLeft(s.start.x)}}},{key:"collisionFromAbove",value:function(t){this.circle.center.y=t-this.circle.radius,this.velocity[1]>0&&(this.velocity[1]=-this.velocity[1])}},{key:"collisionFromRight",value:function(t){this.circle.center.x=t+this.circle.radius,this.velocity[0]<0&&(this.velocity[0]=-this.velocity[0])}},{key:"collisionFromBelow",value:function(t){this.circle.center.y=t+this.circle.radius,this.velocity[1]<0&&(this.velocity[1]=-this.velocity[1])}},{key:"collisionFromLeft",value:function(t){this.circle.center.x=t-this.circle.radius,this.velocity[0]>0&&(this.velocity[0]=-this.velocity[0])}}]),t}(),q={data:function(){return{FIELD_WIDTH:j,FIELD_HEIGHT:F}},mounted:function(){var t=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&t.loop.pause()});var e=new E,i=new $(new y(280,400));i.velocity[0]=3,i.velocity[1]=-3,e.balls.push(i);for(var n=3;n<11;n++)for(var r=0;r<14;r++)e.bricks[n][r]=new w(n,r);this.loop=new B(e,this.$refs.root),this.loop.start()},beforeDestroy:function(){this.visibilityListener&&document.removeEventListener(visibilityListener)},methods:{pause:function(){this.loop&&(this.loop.running?this.loop.pause():this.loop.start())}}},J=q,W=i("2877"),K=Object(W["a"])(J,s,h,!1,null,null,null),N=K.exports,Q={components:{Game:N}},X=Q,Y=Object(W["a"])(X,r,o,!1,null,null,null),Z=Y.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(Z)}}).$mount("#app")}});